## JPA 소개

- **SQL 중심적인 개발의 문제점**
  - 지금 시대는 객체를 관계형 DB에 보관 
    - 수많은 SQL 무한 반복
  - 패러다임의 불일치
    - 개발자가 SQL 매퍼 역할
  - 상속
    - 각각 SQL 작성, 복잡함
    - 상속관계는 `RDB` 안씀
  - 연관관계
    - 객체는 참조 사용, 테이블은 외래 키 사용(레퍼런스가 없음)
    - 객체를 테이블에 맞춰서 모델링을 많이함
  - 객체 그래프 탐색
    - 객체는 자유롭게 객체 그래프를 탐색 할 수 있어야함
    - SQL은 처음 실행에 따라 탐색 범위 결정
      - 엔티티 신뢰 문제
    - 계층 분할이 어려움



- **JPA 소개**
  - 자바 진영의 ORM 표준
  - ORM
    - 객체 관계 매핑
    - 객체는 객체대로, DB는 DB대로 설계
  - JPA 동작
    - Entity 분석
    - SQL 생성 등
  - JPA는 표준 명세
    - 인터페이스 사용
  - 사용 이유
    - 객체 중심으로 개발
    - 생산성, 유지보수, 신뢰성
  - 성능 최적화 기능
    - 1차 캐시와 동일성 보장
      1. 동일한 트랜잭션에서 조회한 엔티티는 같음을 보장
         - 두번 조회 실행해도 한번 조회
      2. `DB Isolation Level`이 `Read Commit`이어도 애플리케이션에서 `Repeatable Read`보장
    - 트랜잭션을 지원하는 쓰기 지연 - INSERT
      1. 트랜잭션을 커밋할 때까지 INSERT SQL을 모음
      2. `JDBC BATCH SQL` 기능을 사용해서 한번에 SQL 전송
    - 트랜잭션을 지원하는 쓰기 지연 - UPDATE
    - 지연 로딩과 즉시 로딩
      - 지연 로딩: 객체가 실제 사용될 때 로딩
      - 즉시 로딩: `JOIN SQL`로 한번에 연관 객체 미리 조회
      - 보통 지연로딩으로 하고 필요한 부분 즉시 로딩