## 의존관계 자동 주입

- **다양한 의존관계 주입 방법**

  - 생성자 주입

    - 생성자 호출시점에 딱 1번만 호출되는 것이 보장
    - **불변, 필수** 의존관계에 주로 사용
    - 생성자가 1개 있으면 `@Autowired` 생략 가능

  - 수정자 주입(setter 주입)

    - 생성자 호출 이후 호출됨
    - **선택, 변경** 가능성이 있을때 사용

    ```java
    @Autowired
    public void setMemberRepository(MemberRepository memberRepository) {
    	this.memberRepository = memberRepository;
    }
    
    // set~ , get~ : 자바빈 프로퍼티 규약
    ```

  - 필드 주입

    - 필드에 `@Autowired`를 달아줌

    - 스프링 컨테이너가 관리하는 인스턴스만 가져올 수 있음

    - 단점

      - 테스트하기 힘들다

      - `DI` 컨테이너 없으면 아무것도 못함

    - 사용하지 말자, 사용해도 되는 곳은

      - 실재 코드와 관계 없는 테스트 코드
        - `@SpringBootTest`처럼 스프링 컨테이너를 테스트에 통합한 경우만 가능
      - `@Configuration`

  - 일반 메서드 주입

    - 일반 메서드를 통해서 주입을 받을 수 있음
    - 특징
      - 한번에 여러 필드를 주입 받을 수 있음
      - 잘 안씀
    - 의존관계 자동 주입은 스프링 컨테이너가 관리하는 스프링 빈이어야 동작

- **옵션 처리**

- **생성자 주입을 선택해라!**

- **롬복과 최신 트랜드**
- **조회 빈이 2개 이상 - 문제**
- **@Autowired 필드 명, @Qualifier, @Primary**
- **애노테이션 직접 만들기**
- **조회한 빈이 모두 필요할 때, List, Map**
- **자동, 수동의 올바른 실무 운영 기준**