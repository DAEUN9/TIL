## HTTP 메서드 활용

- **클라이언트에서 서버로 데이터 전송**
  - 쿼리 파라미터를 통한 데이터 전송
    - `GET`
    - 주로 정렬 필터(검색어)
  - 메시지 바디를 통한 데이터 전송
    - `POST`, `PUT`, `PATCH`
    - 회원 가입, 상품 주문, 리소스 등록, 리소스 변경
  - 정적 데이터 조회
    - 쿼리 파라미터 미사용, 리소스 경로로 단순 조회 가능
    - 이미지, 정적 텍스트 문서
  - 동적 데이터 조회
    - 쿼리 파라미터 사용 데이터를 전달
    - 쿼리 파라미터 기반으로 정렬 필터해서 결과를 동적으로 생성
  - HTML Form 데이터 전송
    - `POST` 전송 - 저장
    - `GET`도 지원하지만 저장에 사용하면 안됨
    - 디폴트로 `application/x-www-form-urlencloded` 사용
    - 쿼리 파라미터와 거의 동일한 key-value형식으로 데이터 전송
    - 전송 데이터를 url encoding 처리
    - `multipart/form-data`
      - 바이트 형식 파일을 함께 전송
      - 여러 타입을 보낼 수 있음
  - HTTP API 데이터 전송
    - 서버 to 서버
    - 앱 클라이언트
    - 웹 클라이언트
    - `Content-Type: application/json`을 주로 사용
      - 사실상 표준



- **HTTP API 설계 예시**
  - HTTP API - 컬렉션
    - `POST`기반 등록
  - HTTP API - 스토어
    - `PUT`기반 등록
  - HTML FORM 사용
    - `GET`, `POST`만 지원
  - `POST` - 신규 자원 등록 특징
    - 클라이언트는 등록될 리소스의 URI를 모름
      - `POST /members`
    - 서버가 새로 등록된 리소스 URI를 생성해줌
      - `Location: /members/100`
    - 컬렉션
      - 서버가 관리하는 리소스 디렉토리
      - 서버가 리소스의 URI를 생성하고 관리
      - 여기서 컬렉션은` /members`
  - `PUT` - 신규 자원 등록 특징
    - 클라이언트가 리소스 URI를 알고 있어야 함
      - `PUT /files/star.jpg`
    - 클라이언트가 직접 리소스의 URI를 지정
    - 스토어
      - 클라이언트가 관리하는 리소스 저장소
      - 클라이언트가 리소스의 URI를 알고 관리
      - 여기서 스토어는 `/files`
  - `HTML FORM` 사용
    - 순수 HTML + HTML form 사용
    - 설계의 제약이 있음
      - `AJAX` 등으로 해결 가능
    - 컨트롤 URI
      - `GET`, `POST`만 지원하므로 제약이 있음
      - 제약 해결을 위해 동사로 된 리소스 경로 사용
      - `POST`의 `/new`, `/edit`, `/delete`가 컨트롤 URI
      - HTTP 메서드로 해결하기 애매한 경우 사용
        - HTTP API 포함
  - 컬렉션과 문서로 최대한 설계하고 안되면 컨트롤 URI로 설계